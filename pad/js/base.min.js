/*----------------------------------------- title -----------------------------------------*/
var titleWords=document.getElementsByTagName("title")[0].innerText;
var titleChange='' + titleWords;
			
var speed = 1000;
			
function titleScroll(){
	if(titleChange.length <= titleWords.length){
		titleChange += "-" + titleWords;
	}
	titleChange=titleChange.substring(1,titleChange.length);
	document.title=titleChange.substring(0,titleWords.length);

	window.setTimeout("titleScroll()",speed);
}
/*------------------------------------------------------------------------------------------*/

/*------------------------------------------ time ------------------------------------------*/
//setInterval("document.getElementById('time').innerText=new Date().toLocaleString()",1000);
/*------------------------------------------------------------------------------------------*/

/*----------------------------------------- banner -----------------------------------------*/
var banner = document.getElementById("banner");// 获取最外层的div
var jiaodiantu = document.getElementById("jiaodiantu");// 获取元素
var left = document.getElementById("left");// 上一页
var right = document.getElementById("right");// 下一页
var dian = document.getElementsByClassName("dian");// 所有的小圆点

// 定义变量记录当前显示图片的位置
var n = 0;
// 下一页
dian[n].onclick = function(){
	jiaodiantu.style.left = n*(-100)+"%";
}
right.onclick = function(){
	nextFn();
}
//定义下一页函数
function nextFn() {
	n++;
	if (n > 3){
		n = 0
	}
	//初始化颜色
	for (var i = 0; i < dian.length; i++) {
		dian[i].style.background = "rgba(0,0,0,0.5)";
	};
	dian[n].style.background = "rgb(0,0,255)";
	jiaodiantu.style.left = n*(-100)+"%";
}
// 上一页
left.onclick = function(){
	n--;
	if(n < 0){
		n = 3;
	};
	// 初始化li所有的颜色
	for (var i = 0; i < dian.length; i++) {
		dian[i].style.background = "rgba(0,0,0,0.5)";
	};
	dian[n].style.background = "rgb(0,0,255)";
	jiaodiantu.style.left = n*(-100)+"%";
}
// 定时滚动
var time = 0;
function autoPlay () {
    time = setInterval(function(){
    	nextFn();
    }, 4000);
}
autoPlay();
//鼠标动作
banner.onmouseover = function(){ clearInterval(time); }
banner.onmouseout = function(){ autoPlay(); }
/*------------------------------------------------------------------------------------------*/

/*---------------------------------------- 刷新缓存 ----------------------------------------*/
window.applicationCache.addEventListener('updateready', function(e) {
	if (window.applicationCache.status == window.applicationCache.UPDATEREADY) {
		window.applicationCache .swapCache();
		if (confirm('A new version of this site is available. Load it?')) {
			window.location.reload();
		}
	} else {
	// Manifest didn't changed. Nothing new to server.
	}
}, false);
/*------------------------------------------------------------------------------------------*/
